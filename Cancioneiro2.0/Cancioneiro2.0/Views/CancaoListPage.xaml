<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Cancioneiro2._0.Views.CancaoListPage"
             Title="Cancioneiro">

    <!-- 
    Grid: Layout principal dividido em 3 linhas
    - Auto: altura ajusta-se ao conteÃºdo
    - *: preenche o espaÃ§o restante
    -->
    <Grid RowDefinitions="Auto,*,Auto" Padding="10">
        
        <!-- ==================== LINHA 0: CABEÃ‡ALHO ==================== -->
        <HorizontalStackLayout Grid.Row="0" 
                              Spacing="10" 
                              Padding="0,0,0,10">
            
            <!-- TÃ­tulo da pÃ¡gina -->
            <Label Text="Minhas CanÃ§Ãµes"
                   FontSize="28"
                   FontAttributes="Bold"
                   VerticalOptions="Center"
                   HorizontalOptions="StartAndExpand"/>
            
            <!-- BotÃ£o de refresh -->
            <Button Text="ðŸ”„"
                    Clicked="OnRefreshClicked"
                    WidthRequest="50"
                    HeightRequest="50"
                    CornerRadius="25"
                    BackgroundColor="#2196F3"
                    TextColor="White"/>
        </HorizontalStackLayout>
        
        <!-- ==================== LINHA 1: LISTA ==================== -->
        <ScrollView Grid.Row="1">
            <!--
            CollectionView: Componente otimizado para listas
            - Recicla items (performance)
            - Suporta seleÃ§Ã£o, agrupamento, etc.
            -->
            <CollectionView x:Name="CancaoCollection"
                           SelectionMode="Single"
                           SelectionChanged="OnCancaoSelected">
                
                <!--
                ItemTemplate: Define como CADA item da lista Ã© exibido
                DataTemplate: Template que Ã© repetido para cada Cancao
                -->
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <!--
                        Frame: Container com bordas/sombra
                        Cada Frame representa UMA canÃ§Ã£o
                        -->
                        <Frame Margin="0,8" 
                               Padding="20"
                               BackgroundColor="White"
                               BorderColor="#E0E0E0"
                               CornerRadius="12"
                               HasShadow="True">
                            
                            <HorizontalStackLayout Spacing="15">
                                
                                <!-- Ãcone de mÃºsica -->
                                <Label Text="ðŸŽµ"
                                       FontSize="32"
                                       VerticalOptions="Center"/>
                                
                                <!-- InformaÃ§Ã£o da canÃ§Ã£o -->
                                <VerticalStackLayout Spacing="5"
                                                    VerticalOptions="Center"
                                                    HorizontalOptions="FillAndExpand">
                                    <!--
                                    {Binding Titulo}: Data Binding!
                                    Liga automaticamente Ã  propriedade Titulo do objeto Cancao
                                    -->
                                    <Label Text="{Binding Titulo}"
                                           FontSize="18"
                                           FontAttributes="Bold"
                                           TextColor="#212121"/>
                                    
                                    <Label Text="{Binding Id, StringFormat='ID: {0}'}"
                                           FontSize="12"
                                           TextColor="#757575"/>
                                </VerticalStackLayout>
                                
                                <!-- Seta indicando que Ã© clicÃ¡vel -->
                                <Label Text="â€º"
                                       FontSize="32"
                                       TextColor="#BDBDBD"
                                       VerticalOptions="Center"/>
                            </HorizontalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </ScrollView>
        
        <!-- ==================== LINHA 2: STATUS BAR ==================== -->
        <Frame Grid.Row="2" 
               BackgroundColor="#F5F5F5"
               Padding="12"
               Margin="0,10,0,0"
               BorderColor="#E0E0E0"
               CornerRadius="8">
            <Label x:Name="LblStatus"
                   Text="Carregando..."
                   FontSize="13"
                   TextColor="#616161"
                   HorizontalOptions="Center"/>
        </Frame>
        
    </Grid>
    
</ContentPage>